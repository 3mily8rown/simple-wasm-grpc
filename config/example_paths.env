# config/paths.env

SCRIPT_PATH="${BASH_SOURCE[0]:-$0}"
# canonicalize any symlinks and “..”
if command -v readlink &>/dev/null; then
  SCRIPT_PATH="$(readlink -f "$SCRIPT_PATH")"
else
  SCRIPT_PATH="$(cd "$(dirname "$SCRIPT_PATH")" && pwd)/$(basename "$SCRIPT_PATH")"
fi

CONFIG_DIR="$(dirname "$SCRIPT_PATH")"

export ROOT_DIR="$(dirname "$CONFIG_DIR")"

# and now all your other exports, unchanged:
export NATIVE_DIR="${ROOT_DIR}/native"
export THIRD_PARTY="${NATIVE_DIR}/third_party"
export PROTOBUF="${THIRD_PARTY}/protobuf"
export BUILD_DIR="${NATIVE_DIR}/build"
export OUT_DIR="${BUILD_DIR}"
export PROTOC_BIN="${PROTOBUF}/build/protoc"

export SCRIPT_DIR="${ROOT_DIR}/scripts"

export WASM_DIR="${ROOT_DIR}/wasm"
export WASM_APPS="${WASM_DIR}/src"
export WASM_OUT="${WASM_DIR}/out"
export WASM_THIRD_PARTY="${WASM_DIR}/third_party"
export NANOPB="${WASM_THIRD_PARTY}/nanopb"
export WASM_NANOPB="${WASM_DIR}/wasm_libraries/nanopb"

export PROTO_DIR="${ROOT_DIR}/proto_messages"

export GEN_DIR="${ROOT_DIR}/generated"
